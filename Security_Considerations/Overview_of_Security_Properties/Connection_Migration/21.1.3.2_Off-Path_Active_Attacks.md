---
title: "21.1.3.2. 不在路径上的主动攻击"
anchor: "21.1.3.2_Off-Path_Active_Attacks"
weight: 210132
rank: "h4"
---

An off-path attacker is not directly on the path between a client and server but could be able to obtain copies of some or all packets sent between the client and the server. It is also able to send copies of those packets to either endpoint.

不在路径上的攻击者并不直接位于客户端与服务器间的路径上，但是拥有获得客户端与服务器间发送的部分或全部数据包的能力。它还能够将那些数据包的副本发送给任一终端。

An off-path attacker can:

不在路径上的攻击者可以做到：

* Inspect packets

* 检视数据包

* Inject new packets

* 注入新数据包

* Reorder injected packets

* 对注入的数据包重新排序

An off-path attacker cannot:

不在路径上的攻击者不能做到：

* Modify packets sent by endpoints

* 修改由终端发送的数据包

* Delay packets

* 使数据包延误

* Drop packets

* 丢弃数据包

* Reorder original packets

* 对原始数据包重新排序

An off-path attacker can create modified copies of packets that it has observed and inject those copies into the network, potentially with spoofed source and destination addresses.

不在路径上的攻击者可以为它观测到的数据包创建修改过的副本，并将这些副本注入网络中，副本的源地址和目标地址可以是伪造的。

For the purposes of this discussion, it is assumed that an off-path attacker has the ability to inject a modified copy of a packet into the network that will reach the destination endpoint prior to the arrival of the original packet observed by the attacker. In other words, an attacker has the ability to consistently "win" a race with the legitimate packets between the endpoints, potentially causing the original packet to be ignored by the recipient.

在本讨论中，我们假定不在路径上的攻击者具有将修改后的数据包副本注入到网络中的能力，并且这个数据包会比它观测的那个原始数据包更早抵达目标终端。换句话说，攻击者具有持续“赢下”与原始数据包间的竞速的能力，并使得原始数据包被接收方忽略。

It is also assumed that an attacker has the resources necessary to affect NAT state. In particular, an attacker can cause an endpoint to lose its NAT binding and then obtain the same port for use with its own traffic.

我们还假设了攻击者具有影响NAT状态所需的资源。尤其是，攻击者有能力使某终端丢失它的NAT绑定，然后取代它，使用与终端先前所使用的相同的端口来吞吐流量。

QUIC aims to constrain the capabilities of an off-path attacker as follows:

QUIC旨在将不在路径上的攻击者的能力限制至：

1. An off-path attacker can race packets and attempt to become a "limited" on-path attacker.

2. 不在路径上的攻击者可以竞速数据包并尝试成为在“受限”路径上的攻击者。

3. An off-path attacker can cause path validation to succeed for forwarded packets with the source address listed as the off-path attacker as long as it can provide improved connectivity between the client and the server.

4. 不在路径上的攻击者可以通过转发数据包并将源地址改为自己的地址的方式，使自己的地址通过验证，前提是它可以在客户端和服务器间提供更优秀的连接质量。

5. An off-path attacker cannot cause a connection to close once the handshake has completed.

6. 不在路径上的攻击者不能在握手完成后引发连接关闭。

7. An off-path attacker cannot cause migration to a new path to fail if it cannot observe the new path.

8. 不在路径上的攻击者不能在无法观测新路径的条件下使得连接迁移到这条路径上。

9. An off-path attacker can become a limited on-path attacker during migration to a new path for which it is also an off-path attacker.

10. 不在路径上的攻击者可以在迁移到新路径的期间成为一个在受限路径上的攻击者，而它在新路径上仍是一个不在路径上的攻击者。

11. An off-path attacker can become a limited on-path attacker by affecting shared NAT state such that it sends packets to the server from the same IP address and port that the client originally used.

12. 不在路径上的攻击者可以通过影响与客户端共享的NAT状态的方式成为一个在受限路径上的攻击者，以便从客户端曾使用过的IP地址和端口向服务器发送数据包。
